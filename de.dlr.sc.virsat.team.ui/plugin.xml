<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.commands">
      <command
            id="de.dlr.sc.virsat.team.ui.command.commit"
            name="Commit Project to Repository">
      </command>
      <command
            id="de.dlr.sc.virsat.team.ui.command.update"
            name="Update Project from Repository">
      </command>
      <command
            id="de.dlr.sc.virsat.team.ui.command.vc.update"
            name="Version Control Update Command">
      </command>
      <command
            id="de.dlr.sc.virsat.team.ui.command.vc.commit"
            name="Version Control Commit Command">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="de.dlr.sc.virsat.team.ui.handler.svn.SvnCommitHandler"
            commandId="de.dlr.sc.virsat.team.ui.command.commit">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     ifEmpty="false">
                  <test
                        args="org.eclipse.team.core.repository,org.eclipse.team.svn.core.svnnature"
                        forcePluginActivation="true"
                        property="de.dlr.sc.virsat.team.ui.svnEnabled">
                  </test>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="de.dlr.sc.virsat.team.ui.handler.svn.SvnUpdateHandler"
            commandId="de.dlr.sc.virsat.team.ui.command.update">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                  ifEmpty="false">
                  <test
                        args="org.eclipse.team.core.repository,org.eclipse.team.svn.core.svnnature"
                        forcePluginActivation="true"
                        property="de.dlr.sc.virsat.team.ui.svnEnabled">
                  </test>
               </iterate>
            </with>
         </activeWhen>
      </handler>
 	  <handler
            class="de.dlr.sc.virsat.team.ui.handler.git.GitCommitHandler"
            commandId="de.dlr.sc.virsat.team.ui.command.commit">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     ifEmpty="false">
                  <test
                        forcePluginActivation="true"
                        property="de.dlr.sc.virsat.team.ui.gitEnabled">
                  </test>
               </iterate>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="de.dlr.sc.virsat.team.ui.handler.git.GitUpdateHandler"
            commandId="de.dlr.sc.virsat.team.ui.command.update">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                  ifEmpty="false">
                  <test
                        forcePluginActivation="true"
                        property="de.dlr.sc.virsat.team.ui.gitEnabled">
                  </test>
               </iterate>
            </with>
         </activeWhen>
      </handler>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="popup:de.dlr.sc.virsat.project.ui.navigator.menu#PopupMenu">
         <separator
               name="de.dlr.sc.virsat.svn.ui.svn"
               visible="true">
         </separator>
         <command
               commandId="de.dlr.sc.virsat.team.ui.command.commit"
               icon="resources/commit.gif"
               label="Commit Project to Repository"
               style="push">
         </command>
         <command
               commandId="de.dlr.sc.virsat.team.ui.command.update"
               icon="resources/update.gif"
               label="Update Project from Repository"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="toolbar:de.dlr.sc.virsat.project.ui.navigator.view">
         <command
               commandId="de.dlr.sc.virsat.team.ui.command.commit"
               icon="resources/commit.gif"
               label="Commit Project to Repository"
               style="push">
         </command>
         <command
               commandId="de.dlr.sc.virsat.team.ui.command.update"
               icon="resources/update.gif"
               label="Update Project from Repository"
               style="push">
         </command>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.core.expressions.propertyTesters">
      <propertyTester
            class="de.dlr.sc.virsat.team.ui.propertyTester.VirSatPropertyTesterSharedProject"
            id="de.dlr.sc.virsat.team.ui.ProjectShared"
            namespace="de.dlr.sc.virsat.team.ui"
            properties="svnEnabled, gitEnabled"
            type="java.lang.Object">
      </propertyTester>
   </extension>

</plugin>
